# 欢迎使用 ⚡️serverless⚡️ 组件
#
# serverless组件是基于具体使用场景(Express, 静态网站等)提供的定制云资源编排和组织的解决方案。
# 这是serverless的主要配置文件，包含了一些使用示例以及注释说明。
# 您只需几行配置描述，即可进行云函数、API 网关、COS、DB 等
# Serverless 资源进行快速创建、部署和修改。
#
# 有关完整的配置选项，请检查文档：
# https://cloud.tencent.com/document/product/1154/51080
#
# 👩‍💻 Happy Coding 👨‍💻

# ##应用信息##
app: dnt # app名称(app唯一识别标识)。同账号下需唯一，留空则继承组件实例名称
component: scf # [必选]要使用组件，更多组件请查看 https://github.com/serverless-components
name: backend # [必选]组件实例名称

inputs:
  src:
    src: ./
    exclude:
      - .env
      - src
  # 指定 SCF 类型为 Web 类型
  type: web
  region: ap-guangzhou
  runtime: Nodejs18.15
  memorySize: 128
  # 对于 Node.js，可以支持打开自动安装依赖
  installDependency: false
  ignoreTriggers: true
  environment:
    variables:
      WECHAT_TOKEN: ${env:WECHAT_TOKEN}
      WECHAT_APP_SECRET: ${env:WECHAT_APP_SECRET}
      WECHAT_ACCESS_TOKEN_ENDPOINT: ${env:WECHAT_ACCESS_TOKEN_ENDPOINT}

